services:
  redis:
    container_name: redis
    restart: on-failure:3
    image: redis:6.2
    networks:
      union:
    ports:
      - 6379:6379
    volumes:
      - /etc/timezone:/etc/timezone:ro
      - /etc/localtime:/etc/localtime:ro
      - ./data/redis/conf:/usr/local/etc/redis
      - ./data/redis/data:/data
    command: ["redis-server", "/usr/local/etc/redis/redis.conf"]

networks:
  union:
    external: true
